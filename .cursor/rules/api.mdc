---
description:
globs:
alwaysApply: false
---
---
description: "API design guidelines for RESTful endpoints, request/response formats, and security best practices"
auto_attachments:
  - "api/**"
  - "azure-functions-deploy/**"
  - "**/*api*.py"
  - "**/*endpoint*.py"
apply_to:
  - api_development
  - endpoints
  - security
tags:
  - api
  - rest
  - security
  - documentation
---

# API Design Guidelines

## Endpoint Structure
- Use RESTful conventions
- Version all endpoints
- Example: `/api/v1/goals`

## Request/Response Format
```typescript
// Request
interface ApiRequest {
  promptId: string;
  variables: Record<string, any>;
  context?: Record<string, any>;
}

// Response
interface ApiResponse {
  success: boolean;
  data?: any;
  error?: {
    code: string;
    message: string;
  };
}
```

## Error Handling
- Use standard HTTP status codes
- Include detailed error messages
- Log all errors

## Security
- Require API key
- Implement rate limiting
- Validate all inputs
- Sanitize all outputs

## Documentation
- Use OpenAPI/Swagger
- Include examples
- Document rate limits
- List all error codes
